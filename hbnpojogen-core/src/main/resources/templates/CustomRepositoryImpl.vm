
package ${packagename};

import java.io.Serializable;

import javax.persistence.EntityManager;

import org.springframework.data.jpa.repository.support.JpaEntityInformation;
import org.springframework.data.jpa.repository.support.QueryDslJpaRepository;

import ${packagename}.CustomRepository;

/**
 * Extends the usual repo methods with custom methods.
 * @author autogenerated
 * @param <T> 
 * @param <ID> 
 *
 */

public class CustomRepositoryImpl<T, ID extends Serializable> extends QueryDslJpaRepository<T, ID> implements CustomRepository<T, ID> {

	/** Hold a reference to the entity manager, hibernate for eg */
	private EntityManager entityManager;
	/** Store a reference to the domain class here to be used for some of the methods. */
	private Class<T> entityClass;

	/**
	 * @param entityInformation
	 * @param entityManager
	 */
	public CustomRepositoryImpl(JpaEntityInformation<T, ID> entityInformation,
			EntityManager entityManager) {
		super(entityInformation, entityManager);
		this.entityManager = entityManager;
		this.entityClass = entityInformation.getJavaType();
	}

	/** Returns a proxy to the given ID, does not hit DB */
	public T getReference(ID primaryKey) {
		return entityManager.getReference(entityClass, primaryKey);
	}
}
